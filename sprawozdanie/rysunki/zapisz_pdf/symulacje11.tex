\documentclass{standalone} 
\usepackage{pgfplots}
\usepackage{siunitx}
\sisetup{detect-weight,exponent-product=\cdot,output-decimal-marker={,},
	per-mode=symbol,binary-units=true,range-phrase={-},range-units=single}
\usetikzlibrary{pgfplots.groupplots}

\pgfplotsset{
	tick label style={font=\footnotesize},
	label style={font=\footnotesize},
	legend style={font=\footnotesize},
	title style={font=\footnotesize},
	/pgf/number format/.cd, use comma, 1000 sep={}
}


\newcommand{\szer}{16cm}
\newcommand{\wys}{5.6cm}
\newcommand{\odstepionowy}{1.2cm}

\definecolor{niebieski}{rgb}{0,0.447,0.741}
\definecolor{czerwony}{rgb}{0.85,0.325,0.098}	
\definecolor{zolty}{rgb}{0.929,0.694,0.125}		
\definecolor{fioletowy}{rgb}{0.494,0.184,0.556}	
\definecolor{zielony}{rgb}{0.466,0.674,0.188}
\definecolor{jasnoniebieski}{rgb}{0.301,0.745,0.933}
\definecolor{ciemnioczerwony}{rgb}{0.635,0.078,0.184}

\begin{document}

\begin{tikzpicture}
\begin{groupplot}[group style={group size=1 by 2,vertical sep=\odstepionowy},
width=\szer,height=\wys]
%%1
\nextgroupplot
[xmin=0,xmax=1,ymin=-4.5,ymax=8.5,
	xtick={0,0.2,0.4,0.6,0.8,1},ytick={-4,-2,0,2,4,8},
	xlabel=$t \ (\mathrm{s})$,ylabel=$u$,legend cell align=left,
	legend pos=north east]
\addplot[const plot,color=niebieski,thick] 
	file {../symulacje11/u_lambda_0_1.txt};
\addplot[const plot,color=czerwony,thick,densely dashed] 
	file {../symulacje11/u_lambda_0_2.txt};
\addplot[const plot,color=zolty,thick,densely dashdotted] 
	file {../symulacje11/u_lambda_0_5.txt};
\addplot[const plot,color=fioletowy,thick,densely dashdotdotted] 
	file {../symulacje11/u_lambda_1.txt};
\addplot[const plot,color=zielony,thick,densely dotted] 
	file {../symulacje11/u_lambda_2.txt};
\legend{$\lambda=\num{0.1}$,$\lambda=\num{0.2}$,$\lambda=\num{0.5}$,
	$\lambda=\num{1}$,$\lambda=\num{2}$}
%%2
\nextgroupplot
[xmin=0,xmax=1,ymin=-1.25,ymax=2.25,
	xtick={0,0.2,0.4,0.6,0.8,1},ytick={-1,-0.5,0,0.5,1,1.5,2},
	xlabel=$t \ (\mathrm{s})$,ylabel={$y^{\mathrm{zad}}, \ y$},
	legend cell align=left,legend style={at={(axis cs:0.6,-0.3)},
	anchor=south west}]
\addplot[const plot,color=gray,thick] 
	file {../symulacje11/yzad.txt};
\addplot[color=niebieski,thick] 
	file {../symulacje11/y_lambda_0_1.txt};
\addplot[const plot,color=czerwony,thick,densely dashed] 
	file {../symulacje11/y_lambda_0_2.txt};
\addplot[const plot,color=zolty,thick,densely dashdotted] 
	file {../symulacje11/y_lambda_0_5.txt};
\addplot[const plot,color=fioletowy,thick,densely dashdotdotted] 
	file {../symulacje11/y_lambda_1.txt};
\addplot[const plot,color=zielony,thick,densely dotted] 
	file {../symulacje11/y_lambda_2.txt};
\legend{$y^{\mathrm{zad}}$,$\lambda=\num{0.1}$,$\lambda=\num{0.2}$,
	$\lambda=\num{0.5}$,$\lambda=\num{1}$,$\lambda=\num{2}$}
\end{groupplot}
\end{tikzpicture}

\end{document}
